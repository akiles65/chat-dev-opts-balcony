<ion-header [translucent]="true">
  <ion-toolbar color="dev-opts">
    <ion-buttons>
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <h2 slot="end" *ngIf="user">{{user.username}}</h2>
    <ion-avatar color="dev-opts" slot="end">
      <ion-img src="../../../assets/images/{{user.avatar}}" *ngIf="user" alt="user"/>
    </ion-avatar>
  </ion-toolbar>

  <ion-toolbar color="dev-opts">
    <ion-searchbar showCancelButton="focus" class="custom" color="medium" placeholder="Buscar" (ionInput)="searchUser($event)"></ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-list>
    <ion-item class="user" *ngFor="let item of searchResult" (click)="getChat(item.receiverId)">
      <ion-avatar slot="start">
<!--        <ion-icon class="read" name="alert-circle" *ngIf="item.receiverId === item.userId"></ion-icon>-->
        <ion-img src="../../../assets/images/{{item.avatar}}" *ngIf="item" alt="user"/>
      </ion-avatar>
      <ion-label>
        <h2>{{item.username}}</h2>
        <p [ngClass]="(item.receiverId === item.userId) ? 'msj-receiver' : 'msj-sender'">{{item.message}}</p>
      </ion-label>
      <ion-label class="notifications" slot="end">
        <ion-icon class="read" name="alert-circle" *ngIf="item.receiverId === item.userId"></ion-icon>
        <span>{{item.lastMessage.toDate() | date:'mediumTime'}}</span>
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>
